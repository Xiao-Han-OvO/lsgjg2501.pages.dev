<template>
  <div class="min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800">
    <Navbar />
    
    <main class="pt-[210px]">
      <!-- 页面标题 -->
      <div class="pl-[180px]">
        <PageHeader 
          :view-mode="viewMode"
          @view-change="handleViewChange"
        />
      </div>
      
      <!-- 主显示区域 -->
      <div class="mt-[60px] px-[120px]">
        <!-- 网格视图 -->
        <div v-if="viewMode === 'grid'" class="grid grid-cols-3 gap-x-[60px] gap-y-[30px] animate-fade-in">
          <div 
            v-for="member in members" 
            :key="member.id"
            :class="[
              (member.id - 1) % 3 === 0 ? 'ml-[120px]' : '',
              (member.id - 1) % 3 === 2 ? 'mr-[120px]' : ''
            ]"
          >
            <MemberCard :member="member" mode="grid" />
          </div>
        </div>
        
        <!-- 列表视图 -->
        <div v-else class="space-y-[30px] animate-fade-in">
          <div 
            v-for="(member, index) in members" 
            :key="member.id"
            class="relative"
          >
            <!-- 分隔线 -->
            <div 
              v-if="index > 0"
              class="absolute -top-[15px] left-[90px] right-[90px] h-[1px] bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"
            ></div>
            
            <MemberCard :member="member" mode="list" />
          </div>
        </div>
      </div>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import Navbar from './components/Navbar.vue'
import PageHeader from './components/PageHeader.vue'
import MemberCard from './components/MemberCard.vue'

// 视图模式
const viewMode = ref<'list' | 'grid'>('grid')

// 模拟数据
const members = ref([
  { id: 1, name: '张三', description: '前端开发工程师 | Vue专家', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=张三' },
  { id: 2, name: '李四', description: '后端开发工程师 | Node.js', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=李四' },
  { id: 3, name: '王五', description: 'UI/UX设计师 | Figma大师', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=王五' },
  { id: 4, name: '赵六', description: '全栈开发工程师 | 架构师', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=赵六' },
  { id: 5, name: '钱七', description: '产品经理 | 需求分析师', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=钱七' },
  { id: 6, name: '孙八', description: '测试工程师 | 质量保障', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=孙八' },
])

const handleViewChange = (mode: 'list' | 'grid') => {
  viewMode.value = mode
}
</script>